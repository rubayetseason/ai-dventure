enum TransportMedium {
  BUS
  TRAIN
  FLIGHT
}

model City {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  name     String
  imageUrl String

  hotels    Hotel[]
  locations Location[]

  up   CityTransport[] @relation("CityTransportFrom")
  down CityTransport[] @relation("CityTransportTo")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model CityTransport {
  id String @id @default(auto()) @map("_id") @db.ObjectId

  medium TransportMedium

  fromId                 String     @db.ObjectId
  toId                   String     @db.ObjectId
  estimatedTimeInMinutes Int
  price                  Float
  departureTimes         DateTime[]

  from City @relation("CityTransportFrom", fields: [fromId], references: [id], onDelete: Cascade)
  to   City @relation("CityTransportTo", fields: [toId], references: [id], onDelete: Cascade)
}
